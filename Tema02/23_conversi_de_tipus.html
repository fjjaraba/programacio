<!doctype html>
<html lang="ca">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>2.3. Conversió de tipus | tema2 </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Fran Jaraba" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.8.1 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-21"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Omet navegació</a></p>
<header id="header" ><div id="headerContent">tema2</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Programació</a></li>
   <li><a href="estructura_de_un_programa_datos_e__s.html" class="daddy">Estructura de un programa. Datos. E / S</a>
   <ul class="other-section">
      <li><a href="1_estructura_de_un_programa.html" class="no-ch">1. Estructura de un programa</a></li>
      <li><a href="2_tipos_de_datos_variables_y_constantes.html" class="daddy">2. Tipos de datos, variables y constantes</a>
      <ul class="other-section">
         <li><a href="21_variables.html" class="no-ch">2.1. Variables</a></li>
         <li><a href="22_constantes.html" class="no-ch">2.2. Constantes</a></li>
         <li><a href="23_conversin_de_tipos.html" class="no-ch">2.3. Conversión de tipos</a></li>
         <li><a href="24_variables_y_objetos_valores_primitivos_y_referencia.html" class="no-ch">2.4. Variables y objetos. Valores Primitivos y Referencia</a></li>
         <li><a href="25_clases_de_envoltura.html" class="no-ch">2.5. Clases de envoltura</a></li>
      </ul>
      </li>
      <li><a href="3_expresiones_y_operadores.html" class="no-ch">3. Expresiones y operadores</a></li>
      <li><a href="4_clases_y_objetos.html" class="daddy">4. Clases y Objetos</a>
      <ul class="other-section">
         <li><a href="41_la_clase_principal_y_el_mtodo_main.html" class="no-ch">4.1. La clase principal y el método main</a></li>
         <li><a href="42_librera_de_clases_java.html" class="no-ch">4.2. Librería de clases Java</a></li>
      </ul>
      </li>
      <li><a href="5_entrada__salida.html" class="no-ch">5. Entrada / Salida</a></li>
      <li><a href="6_cadenas.html" class="no-ch">6. Cadenas</a></li>
      <li><a href="7_expresiones_regulares_en_java.html" class="no-ch">7. Expresiones regulares en Java</a></li>
      <li><a href="8_otras_clases_de_inters.html" class="no-ch">8. Otras clases de interés</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="estructura_dun_programa_dades_e__s.html" class="current-page-parent daddy">Estructura d'un Programa. Dades. E / S</a>
   <ul>
      <li><a href="1_estructura_dun_programa_java.html" class="no-ch">1. Estructura d'un programa Java</a></li>
      <li class="current-page-parent"><a href="2_tipus_de_dades_variables_i_constants.html" class="current-page-parent daddy">2. Tipus de dades, variables i constants</a>
      <ul>
         <li><a href="21_variables0.html" class="no-ch">2.1. Variables</a></li>
         <li><a href="22_constants.html" class="no-ch">2.2. Constants</a></li>
         <li id="active"><a href="23_conversi_de_tipus.html" class="active no-ch">2.3. Conversió de tipus</a></li>
         <li><a href="24_variables_i_objectes_valors_primitius_i_referncia.html" class="no-ch">2.4. Variables i objectes. Valors Primitius i Referència</a></li>
         <li><a href="25_classes_denvoltura.html" class="no-ch">2.5. Classes d'envoltura</a></li>
      </ul>
      </li>
      <li><a href="3_expressions_i_operadors.html" class="no-ch">3. Expressions i operadors</a></li>
      <li><a href="4_classes_i_objectes.html" class="daddy">4. Classes i Objectes</a>
      <ul class="other-section">
         <li><a href="41_la_classe_principal_i_el_mtode_main.html" class="no-ch">4.1. La classe principal i el métode main</a></li>
         <li><a href="42_llibreria_de_classes_java.html" class="no-ch">4.2. Llibreria de classes Java</a></li>
      </ul>
      </li>
      <li><a href="5_entrada__eixida.html" class="no-ch">5. Entrada / Eixida</a></li>
      <li><a href="6_cadenes.html" class="no-ch">6. Cadenes</a></li>
      <li><a href="7_expressions_regulars_a_java.html" class="no-ch">7. Expressions regulars a Java</a></li>
      <li><a href="8_altres_classes_dinters.html" class="no-ch">8. Altres classes d'interès</a></li>
   </ul>
   </li>
   <li><a href="ejercicios.html" class="no-ch">Ejercicios</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="22_constants.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="24_variables_i_objectes_valors_primitius_i_referncia.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">2.3. Conversió de tipus</h1></header>
<article class="iDevice_wrapper textIdevice" id="id21">
<div class="iDevice emphasis0" >
<div id="ta21_122_2" class="block iDevice_content">
<div class="exe-text"><p>És molt freqüent que en una expressió hi haja operands de diferents tipus. Per a evitar errors cal <strong>convertir</strong> els operands al mateix tipus de dades. Aquesta conversió es denomina <span style="color: #008000;"><strong>càsting</strong></span>. Existeixen diverses maneres de realitzar la conversió.</p>
<h2>Conversió implícita.</h2>
<p>És el compilador el que realitza la <strong>conversió de manera automàtica</strong>. Intenta <strong>convertir</strong> (<em>promoure</em>) els operands de menor precisió al de major precisió. Les promocions es realitzen utilitzant la primera d'aquestes regles que s'ajuste a la situació:</p>
<ol>
<li>Si qualsevol dels operands és <span style="color: #0000ff;">double</span>, l'altre operand es converteix en <span style="color: #0000ff;">double</span>.</li>
<li>Si algú dels operands és <span style="color: #0000ff;">float</span>, l'altre operand es converteix en <span style="color: #0000ff;">float</span>.</li>
<li>Si qualsevol dels operands és <span style="color: #0000ff;">long</span>, l'altre operand es converteix en <span style="color: #0000ff;">long</span>.</li>
<li>Si qualsevol dels operands és un <span style="color: #0000ff;">int</span>, l'altre operand es converteix en <span style="color: #0000ff;">int</span>.</li>
<li>Si cap dels operands és <span style="color: #0000ff;">double</span>, <span style="color: #0000ff;">float</span>, <span style="color: #0000ff;">long</span> o <span style="color: #0000ff;">int</span>, tots dos operands són ascendit a <span style="color: #0000ff;">int</span>.</li>
</ol>
<p>No hi ha cap conversió implícita de tipus numèric a <strong><span style="color: #0000ff;">char</span></strong> o booleà. A Java, els tipus <span style="color: #0000ff;">char</span> i <span style="color: #0000ff;">boolean</span> no són compatibles.</p>
<p>Exemples:</p>
<pre><span style="font-size: 10pt;"><span style="color: #0000ff;">   int</span> numeroEnter = 5;</span><br /><span style="font-size: 10pt;"><span style="color: #0000ff;">   double</span> v1 = numeroEnter;           <span style="color: #808000;">// Conversió automàtica de int a double</span></span><br /><span style="font-size: 10pt;"><span style="color: #0000ff;">   double</span> v2 = 25.36958 / numeroEnter   <span style="color: #808000;">// numeroEnter es conviteix a double abants que es realitze l'operació</span></span></pre>
<h2>Conversió explícita</h2>
<p>S'utilitza quan es desitja convertir un tipus de dades en una altra mena de dades que no és compatible automàticament. Això requereix que el programador indique explícitament la conversió utilitzant parèntesi i el tipus de dades al qual es desitja convertir.</p>
<pre><span style="font-size: 10pt;"><span style="color: #0000ff;">   double</span> numeroDecimal = 3.14;</span><br /><span style="font-size: 10pt;"><span style="color: #0000ff;">   int</span> numeroEnter = (<span style="color: #0000ff;">int</span>) numeroDecimal; <span style="color: #808000;">// Conversió explícita de double a int</span></span></pre>
<p>En aquest cas, estem realitzant una conversió explícita de numeroDecimal a numeroEnter. No obstant això, és important tindre en compte que aquesta conversió implica una pèrdua de precisió, ja que es descarten els decimals. És important anar amb compte en realitzar càsting explícit, ja que pot conduir a resultats inesperats o pèrdua de dades. Sempre verifica si la conversió és segura abans de realitzar-la.</p>
<h2>Classes d'envoltura (Wrapper classes)</h2>
<p>Las classes d'envoltura en Java proporcionen mètodes per a convertir entre tipus primitius i objectes. Per exemple:</p>
<pre><span style="font-size: 10pt;"><span style="color: #0000ff;">  String</span> numeroText = "123";</span><br /><span style="font-size: 10pt;"><span style="color: #0000ff;">  int</span> numero = <span style="color: #0000ff;">Integer</span>.<span style="color: #0000ff;">parseInt</span>(numeroText);     <span style="color: #808000;">// numero -&gt; 123<br /></span>  <span style="color: #0000ff;">double</span> numDoble = <span style="color: #0000ff;">Double.parseDouble</span>(numeroText);  <span style="color: #808000;">//numDouble -&gt; 123.0</span>   <span style="color: #808000;"><br /></span>  <span style="color: #0000ff;">float</span> numDoble = <span style="color: #0000ff;">Float.parseFloat</span>(numeroText);<span style="color: #808000;">     //numFloat -&gt; 123.0 <br /></span></span></pre>
<p><span style="color: #0000ff;">Integer.parseInt</span> ("string numérico") -&gt; converteix una cadena numèrica en un <span style="color: #0000ff;">int</span>.</p>
<p><span style="color: #0000ff;">Double.parseDouble</span>("string numérico") -&gt; converteix una cadena numèrica en un <span style="color: #0000ff;">double</span>.</p>
<h2>Mètodes de conversió de classes d'envoltura</h2>
<p>Les classes d'embolcall també proporcionen mètodes com <strong><span style="color: #0000ff;">valueOf</span></strong>() per a convertir tipus primitius a objectes i <span style="color: #0000ff;"><strong>toString</strong></span>() per a convertir objectes a cadenes. Per exemple:</p>
<pre><span style="font-size: 10pt;"><span style="color: #0000ff;">   int</span> numero = 42;<br />   <span style="color: #0000ff;">double</span> numDoble = 36.45821; </span><br /><span style="font-size: 10pt;"><span style="color: #0000ff;">   String</span> numeroText;<br />   numeroText = <span style="color: #0000ff;">Integer</span>.<span style="color: #0000ff;">toString</span>(numero);          <span style="color: #808000;">// numeroText -&gt; "42"<br /></span>   numeroText = <span style="color: #0000ff;">Double.toString</span>(numDoble);<span style="color: #808000;">         // numeroText -&gt; "36.45821"<br /></span>   numeroText = <span style="color: #0000ff;">String.valueOf</span>(numero);            <span style="color: #808000;">// numeroText -&gt; "42"<br /></span>   numeroText = <span style="color: #0000ff;">String.valueOf</span>(numDoble); <span style="color: #808000;">         // numeroText -&gt; "36.45821"</span><br /><span style="color: #808000;"><br /></span></span></pre>
<h2>Conversió entre tipus numèrics</h2>
<p>Pots realitzar conversions entre diferentes tipus numèrics utilitzant mètodes com <span style="color: #0000ff;">intValue</span>(), <span style="color: #0000ff;">doubleValue</span>(), <span style="color: #0000ff;">longValue</span>(), etc., disponibles en les classes d'envoltura. Per exemple:</p>
<pre><span style="font-size: 10pt;"><span style="color: #0000ff;">   double</span> numeroDouble = 3.14;</span><br /><span style="font-size: 10pt;"><span style="color: #0000ff;">   int</span> numeroEnter = Double.<span style="color: #0000ff;">valueOf</span>(numeroDouble).<span style="color: #0000ff;">intValue</span>();  <span style="color: #808000;">// Converteix double a int</span></span></pre>
<p></p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Llicenciat sota la </span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Llicència Creative Commons Reconeixement CompartirIgual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="22_constants.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="24_variables_i_objectes_valors_primitius_i_referncia.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creat amb eXeLearning<span> (Finestra nova)</span></span></a></p><script type="text/javascript" src="_style_js.js"></script></body></html>